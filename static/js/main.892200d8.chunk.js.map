{"version":3,"sources":["contexts.js","utils.js","components/Header/Header.js","images/loading.svg","components/Loading/Loading.js","WebAPI.js","pages/HomePage/HomePage.js","pages/LoginPage/LoginPage.js","pages/PostPage/PostPage.js","pages/AddPostPage/AddPostPage.js","pages/AboutPage/AboutPage.js","pages/RegisterPage/RegisterPage.js","components/App/App.js","index.js"],"names":["AuthContext","createContext","LoadingContext","TOKEN_NAME","setAuthToken","token","localStorage","setItem","getAuthToken","getItem","HeaderContainer","styled","div","LeftContainer","Brand","Link","NavebarList","Nav","props","$active","Header","location","useLocation","pathname","useContext","user","setUser","history","useHistory","to","onClick","push","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","transform","cx","cy","r","fill","fillOpacity","attributeName","type","begin","values","keyTimes","dur","repeatCount","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","SvgLoading","_ref","svgRef","title","titleId","xmlns","xmlnsXlink","style","margin","display","shapeRendering","width","height","viewBox","preserveAspectRatio","ref","id","ForwardRef","LoadingWrapper","Loading","BASE_URL","getMe","fetch","headers","authorization","then","res","json","getPost","PostContainer","PostDate","PostTitle","Pagination","PaginationWrapper","Post","post","Date","createdAt","toLocaleString","HomePage","page","useParams","useState","posts","setPosts","isLoading","setIsLoading","pagesNum","useRef","useEffect","postsNum","current","Math","ceil","limit","getPostsFromPage","map","Array","item","index","Input","input","Button","button","Title","h1","ErrMessage","username","setUsername","password","setPassword","errMessage","setErrMessage","onSubmit","e","preventDefault","method","body","JSON","stringify","login","data","ok","message","response","value","onChange","InfoContainer","PostAuthor","Body","author","PostPage","setPost","setAuthor","nickname","propType","PropTypes","object","string","Textarea","textarea","setTitle","content","setContent","console","log","addPost","alert","Meme","img","src","setNickname","register","Root","Wrapper","App","Provider","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.892200d8.chunk.js","sourcesContent":["import { createContext } from \"react\";\n\nexport const AuthContext = createContext(null);\nexport const LoadingContext = createContext(null);\n","const TOKEN_NAME = \"token\";\n\nexport const setAuthToken = (token) => {\n  localStorage.setItem(TOKEN_NAME, token);\n};\n\nexport const getAuthToken = () => {\n  return localStorage.getItem(TOKEN_NAME);\n};\n","import React, { useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { Link, useLocation, useHistory } from \"react-router-dom\";\nimport { AuthContext } from \"../../contexts\";\nimport { setAuthToken } from \"../../utils\";\n\nconst HeaderContainer = styled.div`\n  height: 64px;\n  border-bottom: 1px solid grey;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n  background: #636b46;\n  color: #e9e7da;\n  padding: 0 32px;\n`;\n\nconst LeftContainer = styled.div`\n  display: flex;\n`;\n\nconst Brand = styled(Link)`\n  font-size: 32px;\n  font-weight: bold;\n  margin-right: 10px;\n  display: flex;\n  height: 64px;\n  align-items: center;\n  color: #e9e7da;\n  text-decoration: none;\n`;\n\nconst NavebarList = styled.div`\n  display: flex;\n  font-ssize: 24px;\n  align-items: center;\n`;\n\nconst Nav = styled(Link)`\n  display: flex;\n  height: 64px;\n  align-items: center;\n  padding: 0 20px;\n  color: #e9e7da;\n  text-decoration: none;\n\n  &:hover {\n    cursor: pointer;\n    color: white;\n    background: #373f27;\n  }\n\n  & + & {\n    margin-left: 5px;\n  }\n\n  ${(props) =>\n    props.$active &&\n    `\n  background: #373f27;`}\n`;\n\nexport default function Header() {\n  const location = useLocation().pathname;\n  const { user, setUser } = useContext(AuthContext);\n  const history = useHistory();\n\n  const handleLogout = () => {\n    setAuthToken(\"\");\n    setUser(null);\n    history.push(\"/\");\n  };\n\n  return (\n    <HeaderContainer>\n      <LeftContainer>\n        <Brand to='/'>生菜的部落格</Brand>\n        <Nav to='/about' $active={location === \"/about\"}>\n          關於我\n        </Nav>\n        <NavebarList>\n          {user && (\n            <Nav to='/addPost' $active={location === \"/addPost\"}>\n              發布文章\n            </Nav>\n          )}\n        </NavebarList>\n      </LeftContainer>\n      <NavebarList>\n        {!user && (\n          <>\n            <Nav to='/register' $active={location === \"/register\"}>\n              註冊\n            </Nav>\n            <Nav to='/login' $active={location === \"/login\"}>\n              登入\n            </Nav>\n          </>\n        )}\n        {user && <Nav onClick={handleLogout}>登出</Nav>}\n      </NavebarList>\n    </HeaderContainer>\n  );\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(80,50)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"rotate(0)\"\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 0,\n  cy: 0,\n  r: 6,\n  fill: \"#f2bc39\",\n  fillOpacity: 1\n}, /*#__PURE__*/React.createElement(\"animateTransform\", {\n  attributeName: \"transform\",\n  type: \"scale\",\n  begin: \"-0.875s\",\n  values: \"1.5 1.5;1 1\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  repeatCount: \"indefinite\"\n}), /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"fill-opacity\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  repeatCount: \"indefinite\",\n  values: \"1;0\",\n  begin: \"-0.875s\"\n}))));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(71.21320343559643,71.21320343559643)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"rotate(45)\"\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 0,\n  cy: 0,\n  r: 6,\n  fill: \"#f2bc39\",\n  fillOpacity: 0.875\n}, /*#__PURE__*/React.createElement(\"animateTransform\", {\n  attributeName: \"transform\",\n  type: \"scale\",\n  begin: \"-0.75s\",\n  values: \"1.5 1.5;1 1\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  repeatCount: \"indefinite\"\n}), /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"fill-opacity\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  repeatCount: \"indefinite\",\n  values: \"1;0\",\n  begin: \"-0.75s\"\n}))));\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(50,80)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"rotate(90)\"\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 0,\n  cy: 0,\n  r: 6,\n  fill: \"#f2bc39\",\n  fillOpacity: 0.75\n}, /*#__PURE__*/React.createElement(\"animateTransform\", {\n  attributeName: \"transform\",\n  type: \"scale\",\n  begin: \"-0.625s\",\n  values: \"1.5 1.5;1 1\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  repeatCount: \"indefinite\"\n}), /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"fill-opacity\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  repeatCount: \"indefinite\",\n  values: \"1;0\",\n  begin: \"-0.625s\"\n}))));\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(28.786796564403577,71.21320343559643)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"rotate(135)\"\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 0,\n  cy: 0,\n  r: 6,\n  fill: \"#f2bc39\",\n  fillOpacity: 0.625\n}, /*#__PURE__*/React.createElement(\"animateTransform\", {\n  attributeName: \"transform\",\n  type: \"scale\",\n  begin: \"-0.5s\",\n  values: \"1.5 1.5;1 1\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  repeatCount: \"indefinite\"\n}), /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"fill-opacity\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  repeatCount: \"indefinite\",\n  values: \"1;0\",\n  begin: \"-0.5s\"\n}))));\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(20,50.00000000000001)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"rotate(180)\"\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 0,\n  cy: 0,\n  r: 6,\n  fill: \"#f2bc39\",\n  fillOpacity: 0.5\n}, /*#__PURE__*/React.createElement(\"animateTransform\", {\n  attributeName: \"transform\",\n  type: \"scale\",\n  begin: \"-0.375s\",\n  values: \"1.5 1.5;1 1\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  repeatCount: \"indefinite\"\n}), /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"fill-opacity\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  repeatCount: \"indefinite\",\n  values: \"1;0\",\n  begin: \"-0.375s\"\n}))));\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(28.78679656440357,28.786796564403577)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"rotate(225)\"\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 0,\n  cy: 0,\n  r: 6,\n  fill: \"#f2bc39\",\n  fillOpacity: 0.375\n}, /*#__PURE__*/React.createElement(\"animateTransform\", {\n  attributeName: \"transform\",\n  type: \"scale\",\n  begin: \"-0.25s\",\n  values: \"1.5 1.5;1 1\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  repeatCount: \"indefinite\"\n}), /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"fill-opacity\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  repeatCount: \"indefinite\",\n  values: \"1;0\",\n  begin: \"-0.25s\"\n}))));\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(49.99999999999999,20)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"rotate(270)\"\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 0,\n  cy: 0,\n  r: 6,\n  fill: \"#f2bc39\",\n  fillOpacity: 0.25\n}, /*#__PURE__*/React.createElement(\"animateTransform\", {\n  attributeName: \"transform\",\n  type: \"scale\",\n  begin: \"-0.125s\",\n  values: \"1.5 1.5;1 1\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  repeatCount: \"indefinite\"\n}), /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"fill-opacity\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  repeatCount: \"indefinite\",\n  values: \"1;0\",\n  begin: \"-0.125s\"\n}))));\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(71.21320343559643,28.78679656440357)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"rotate(315)\"\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 0,\n  cy: 0,\n  r: 6,\n  fill: \"#f2bc39\",\n  fillOpacity: 0.125\n}, /*#__PURE__*/React.createElement(\"animateTransform\", {\n  attributeName: \"transform\",\n  type: \"scale\",\n  begin: \"0s\",\n  values: \"1.5 1.5;1 1\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  repeatCount: \"indefinite\"\n}), /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"fill-opacity\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  repeatCount: \"indefinite\",\n  values: \"1;0\",\n  begin: \"0s\"\n}))));\n\nfunction SvgLoading(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    style: {\n      margin: \"auto\",\n      display: \"block\",\n      shapeRendering: \"auto\"\n    },\n    width: \"200px\",\n    height: \"200px\",\n    viewBox: \"0 0 100 100\",\n    preserveAspectRatio: \"xMidYMid\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLoading);\nexport default __webpack_public_path__ + \"static/media/loading.8bc1f26f.svg\";\nexport { ForwardRef as ReactComponent };","import styled from \"styled-components\";\nimport { ReactComponent as LoadingSVG } from \"../../images/loading.svg\";\n\nconst LoadingWrapper = styled.div`\n  margin: 0 auto;\n  text-align: center;\n  position: fixed;\n  width: 500px;\n  top: 72px;\n`;\n\nexport default function Loading() {\n  return (\n    <LoadingWrapper>\n      <LoadingSVG />\n    </LoadingWrapper>\n  );\n}\n","import { getAuthToken } from \"./utils\";\n\nconst BASE_URL = \"https://student-json-api.lidemy.me\";\n\nexport const getPosts = () => {\n  return fetch(\n    `${BASE_URL}/posts?_sort=createdAt&_order=desc&_expand=user`\n  ).then((res) => res.json());\n};\n\nexport const getPostsFromPage = (page, limit) => {\n  return fetch(\n    `${BASE_URL}/posts?_expand=user&_sort=createdAt&_order=desc&_page=${page}&_limit=${limit}`\n  ).then((res) => res.json());\n};\n\nexport const login = (username, password) => {\n  return fetch(`${BASE_URL}/login`, {\n    method: \"POST\",\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      username,\n      password,\n    }),\n  }).then((res) => res.json());\n};\n\nexport const getMe = () => {\n  const token = getAuthToken();\n  return fetch(`${BASE_URL}/me`, {\n    headers: {\n      authorization: `Bearer ${token}`,\n    },\n  }).then((res) => res.json());\n};\n\nexport const getPost = (id) => {\n  return fetch(`${BASE_URL}/posts?_expand=user&id=${id}`).then((res) => {\n    return res.json();\n  });\n};\n\nexport const addPost = (title, body) => {\n  const token = getAuthToken();\n  console.log(title);\n  return fetch(`${BASE_URL}/posts`, {\n    method: \"POST\",\n    headers: {\n      authorization: `Bearer ${token}`,\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      title,\n      body,\n    }),\n  }).then((res) => res.json());\n};\n\nexport const register = (username, password, nickname) => {\n  return fetch(`${BASE_URL}/register`, {\n    method: \"POST\",\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      nickname,\n      username,\n      password,\n    }),\n  }).then((res) => res.json());\n};\n","import { useState, useEffect, useContext, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport PropTypes from \"prop-types\";\nimport { Link, useParams, useLocation } from \"react-router-dom\";\nimport Loading from \"../../components/Loading\";\nimport { LoadingContext } from \"../../contexts\";\n\nimport { getPosts, getPostsFromPage } from \"../../WebAPI\";\n\nconst PostContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding: 15px;\n  font-size: 16px;\n  border-bottom: 1px solid #636b46;\n  color: #373f27;\n`;\n\nconst PostDate = styled.div``;\n\nconst PostTitle = styled(Link)`\n  width: 350px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  text-decoration: none;\n  font-size: 16px;\n  color: #373f27;\n  font-weight: bold;\n`;\n\nconst Pagination = styled(Link)`\n  padding: 10px;\n  color: #373f27;\n  border: 1px solid #373f27;\n  background: #e9e7da;\n  text-decoration: none;\n  border-radius: 5px;\n\n  &:hover {\n    background: #373f27;\n    color: #e9e7da;\n  }\n\n  & + & {\n    margin-left: 5px;\n  }\n\n  ${(props) =>\n    props.$active &&\n    `\n  background: #373f27;\n  color: #e9e7da;`}\n`;\n\nconst PaginationWrapper = styled.div`\n  margin: 0 auto;\n  margin-top: 10px;\n  display: flex;\n  justify-content: center;\n`;\n\nPost.propTypes = {\n  post: PropTypes.shape({\n    id: PropTypes.string,\n    title: PropTypes.string,\n    createdAt: PropTypes.string,\n  }),\n};\n\nfunction Post({ post }) {\n  return (\n    <PostContainer>\n      <PostTitle to={`/post/${post.id}`}>{post.title}</PostTitle>\n      <PostDate>{new Date(post.createdAt).toLocaleString()}</PostDate>\n    </PostContainer>\n  );\n}\n\n// 分頁邏輯：先抓全部的得到總數 -> render 第一頁和按鈕\n\nexport default function HomePage() {\n  const location = useLocation().pathname;\n  const limit = 5;\n  let { page } = useParams();\n  if (!page) page = 1;\n  const [posts, setPosts] = useState([]);\n  const { isLoading, setIsLoading } = useContext(LoadingContext);\n  let pagesNum = useRef();\n\n  useEffect(() => {\n    setIsLoading(true);\n    getPosts().then((posts) => {\n      const postsNum = posts.length;\n      pagesNum.current = Math.ceil(postsNum / limit);\n      getPostsFromPage(page, limit).then((posts) => {\n        setIsLoading(false);\n        setPosts(posts);\n      });\n    });\n\n    return () => {\n      setIsLoading(false);\n    };\n  }, [page]);\n\n  return (\n    <>\n      {isLoading && <Loading />}\n      {posts.map((post) => (\n        <Post key={post.id} post={post} />\n      ))}\n      <PaginationWrapper>\n        {new Array(pagesNum.current).fill(\"\").map((item, index) => {\n          return (\n            <Pagination\n              key={index}\n              to={`/posts/${index + 1}`}\n              $active={\n                location === `/posts/${index + 1}` ||\n                (location === \"/\" && index === 0)\n              }\n            >\n              {index + 1}\n            </Pagination>\n          );\n        })}\n      </PaginationWrapper>\n    </>\n  );\n}\n","import { setAuthToken } from \"../../utils\";\nimport { useState, useContext, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport PropTypes from \"prop-types\";\nimport { useHistory } from \"react-router-dom\";\nimport { login, getMe } from \"../../WebAPI\";\nimport { AuthContext } from \"../../contexts\";\nimport Loading from \"../../components/Loading\";\nimport { LoadingContext } from \"../../contexts\";\n\nconst Input = styled.input`\n  color: #373f27;\n  margin-bottom: 5px;\n  padding: 5px;\n  border: 1px solid #cda34f;\n  border-radius: 3px;\n\n  &:focus {\n    outline: none;\n  }\n`;\n\nconst Button = styled.button`\n  padding: 5px 10px;\n  background: #e9e7da;\n  color: #636b46;\n  border: 1px solid #636b46;\n  border-radius: 3px;\n  margin-top: 10px;\n\n  &:hover {\n    color: #373f27;\n    cursor: pointer;\n  }\n`;\n\nconst Title = styled.h1`\n  margin-top: 0px;\n`;\n\nconst ErrMessage = styled.div`\n  color: red;\n`;\n\nexport default function HomePage() {\n  const { setUser } = useContext(AuthContext);\n  const { isLoading, setIsLoading } = useContext(LoadingContext);\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errMessage, setErrMessage] = useState();\n  const history = useHistory();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (isLoading) return;\n    setIsLoading(true);\n    setErrMessage(\"\");\n    login(username, password).then((data) => {\n      if (!data.ok) {\n        setIsLoading(false);\n        return setErrMessage(data.message);\n      }\n      setAuthToken(data.token);\n      getMe().then((response) => {\n        if (response.ok !== 1) {\n          setAuthToken(null);\n          setIsLoading(false);\n          return setErrMessage(response.message);\n        }\n        setUser(response.data);\n        setIsLoading(false);\n        history.push(\"/\");\n      });\n    });\n  };\n\n  // 防止這頁還沒跑完其他頁也不能跑\n  useEffect(() => {\n    return () => {\n      setIsLoading(false);\n    };\n  }, []);\n\n  return (\n    <>\n      {isLoading && <Loading />}\n      <Title>會員登入</Title>\n      <form onSubmit={handleSubmit}>\n        <div>\n          帳號：\n          <br />\n          <Input\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n          />\n        </div>\n        <div>\n          密碼：\n          <br />\n          <Input\n            type='password'\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </div>\n        {errMessage && <ErrMessage>{errMessage}</ErrMessage>}\n        <Button>送出</Button>\n      </form>\n    </>\n  );\n}\n","import { useState, useEffect, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport PropTypes from \"prop-types\";\nimport { useParams } from \"react-router-dom\";\nimport { LoadingContext } from \"../../contexts\";\nimport Loading from \"../../components/Loading\";\n\nimport { getPost } from \"../../WebAPI\";\n\nconst InfoContainer = styled.div`\n  font-size: 16px;\n  color: #373f27;\n`;\n\nconst PostAuthor = styled.div`\n  font-size: 16px;\n  margin-top: 10px;\n`;\n\nconst PostDate = styled.div`\n  font-size: 16px;\n  margin-top: 5px;\n`;\n\nconst PostTitle = styled.div`\n  text-decoration: none;\n  font-size: 32px;\n  color: #373f27;\n  font-weight: bold;\n`;\n\nconst Body = styled.div`\n  margin-top: 10px;\n  font-size: 14px;\n  line-height: 2rem;\n  white-space: pre-wrap;\n`;\n\nfunction Post({ post, author }) {\n  return (\n    <>\n      <InfoContainer>\n        <PostTitle>{post.title}</PostTitle>\n        <PostAuthor>作者：{author}</PostAuthor>\n        <PostDate>\n          日期：\n          {new Date(post.createdAt).toLocaleString()}\n        </PostDate>\n      </InfoContainer>\n      <Body>{post.body}</Body>\n    </>\n  );\n}\n\nPost.propType = {\n  post: PropTypes.object,\n};\n\nexport default function PostPage() {\n  const [post, setPost] = useState([]);\n  const [author, setAuthor] = useState([]);\n  const { isLoading, setIsLoading } = useContext(LoadingContext);\n  const { id } = useParams();\n\n  useEffect(() => {\n    setIsLoading(true);\n    getPost(id).then((post) => {\n      setPost(post[0]);\n      setIsLoading(false);\n      setAuthor(post[0].user.nickname);\n    });\n\n    return () => {\n      setIsLoading(false);\n    };\n  }, []);\n\n  return (\n    <>\n      {isLoading && <Loading />}\n      <Post key={post.id} post={post} author={author} />\n    </>\n  );\n}\n\nPost.propType = {\n  post: PropTypes.object,\n  author: PropTypes.string,\n};\n","import { setAuthToken } from \"../../utils\";\nimport { useState, useContext, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport PropTypes from \"prop-types\";\nimport { useHistory } from \"react-router-dom\";\nimport { addPost } from \"../../WebAPI\";\nimport { AuthContext } from \"../../contexts\";\nimport Loading from \"../../components/Loading\";\nimport { LoadingContext } from \"../../contexts\";\n\nconst Input = styled.input`\n  color: #373f27;\n  margin-bottom: 5px;\n  padding: 5px;\n  border: 1px solid #cda34f;\n  border-radius: 3px;\n  width: 95%;\n  margin-top: 5px;\n  font-size: 16px;\n\n  &:focus {\n    outline: none;\n  }\n`;\n\nconst Textarea = styled.textarea`\n  color: #373f27;\n  margin-bottom: 5px;\n  padding: 5px;\n  border: 1px solid #cda34f;\n  border-radius: 3px;\n  width: 95%;\n  height: 20rem;\n  margin-top: 5px;\n  font-size: 16px;\n\n  &:focus {\n    outline: none;\n  }\n`;\n\nconst Button = styled.button`\n  padding: 5px 10px;\n  background: #e9e7da;\n  color: #636b46;\n  border: 1px solid #636b46;\n  border-radius: 3px;\n  margin-top: 10px;\n\n  &:hover {\n    color: #373f27;\n    cursor: pointer;\n  }\n`;\n\nconst Title = styled.h1`\n  margin-top: 0px;\n`;\n\nconst ErrMessage = styled.div`\n  color: red;\n`;\n\nexport default function HomePage() {\n  const { user } = useContext(AuthContext);\n  const { isLoading, setIsLoading } = useContext(LoadingContext);\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const [errMessage, setErrMessage] = useState();\n  const history = useHistory();\n\n  // 身分驗證\n  if (!user) {\n    history.push(\"/\");\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (isLoading) return;\n    setIsLoading(true);\n    setErrMessage(\"\");\n    addPost(title, content).then((response) => {\n      if (response.ok === 0) {\n        setIsLoading(false);\n        return setErrMessage(response.message);\n      }\n      alert(\"發布成功\");\n      setIsLoading(false);\n      history.push(\"/\");\n    });\n  };\n\n  // 防止這頁還沒跑完其他頁也不能跑\n  useEffect(() => {\n    return setIsLoading(false);\n  }, []);\n\n  return (\n    <>\n      {isLoading && <Loading />}\n      <Title>發布文章</Title>\n      <form onSubmit={handleSubmit}>\n        <div>\n          標題：\n          <br />\n          <Input value={title} onChange={(e) => setTitle(e.target.value)} />\n        </div>\n        <div>\n          內文：\n          <br />\n          <Textarea\n            value={content}\n            onChange={(e) => setContent(e.target.value)}\n          />\n        </div>\n        {errMessage && <ErrMessage>{errMessage}</ErrMessage>}\n        <Button>送出</Button>\n      </form>\n    </>\n  );\n}\n","import { useState, useEffect, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport PropTypes from \"prop-types\";\nimport { LoadingContext } from \"../../contexts\";\nimport Loading from \"../../components/Loading\";\n\nimport { getPost } from \"../../WebAPI\";\n\nconst Meme = styled.img`\n  width: 80%;\n  height: 50%;\n  margin-top: 2rem;\n`;\n\nexport default function PostPage() {\n  const [post, setPost] = useState([]);\n  const { isLoading, setIsLoading } = useContext(LoadingContext);\n  const id = 72;\n\n  useEffect(() => {\n    setIsLoading(true);\n    getPost(id).then((post) => {\n      setPost(post[0]);\n      setIsLoading(false);\n    });\n\n    return () => {\n      setIsLoading(false);\n    };\n  }, []);\n\n  return (\n    <>\n      {isLoading && <Loading />}\n      <h1>About Me</h1>\n      生菜，正在練習用 react 做部落格。\n      <Meme src='https://scontent.fkhh1-1.fna.fbcdn.net/v/t1.0-9/129622091_4955958677778025_5487173615913268757_o.jpg?_nc_cat=103&ccb=2&_nc_sid=8bfeb9&_nc_ohc=p5CWpq-dEooAX_tcHTs&_nc_ht=scontent.fkhh1-1.fna&oh=d799209f2c70471119e3171d399f648d&oe=5FF92991' />\n      <div>（圖片來源：迷因刻本）</div>\n    </>\n  );\n}\n","import { setAuthToken } from \"../../utils\";\nimport { useState, useContext, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport PropTypes from \"prop-types\";\nimport { useHistory } from \"react-router-dom\";\nimport { register, getMe } from \"../../WebAPI\";\nimport { AuthContext } from \"../../contexts\";\nimport Loading from \"../../components/Loading\";\nimport { LoadingContext } from \"../../contexts\";\n\nconst Input = styled.input`\n  color: #373f27;\n  margin-bottom: 5px;\n  padding: 5px;\n  border: 1px solid #cda34f;\n  border-radius: 3px;\n\n  &:focus {\n    outline: none;\n  }\n`;\n\nconst Button = styled.button`\n  padding: 5px 10px;\n  background: #e9e7da;\n  color: #636b46;\n  border: 1px solid #636b46;\n  border-radius: 3px;\n  margin-top: 10px;\n\n  &:hover {\n    color: #373f27;\n    cursor: pointer;\n  }\n`;\n\nconst Title = styled.h1`\n  margin-top: 0px;\n`;\n\nconst ErrMessage = styled.div`\n  color: red;\n`;\n\nexport default function HomePage() {\n  const { setUser } = useContext(AuthContext);\n  const { isLoading, setIsLoading } = useContext(LoadingContext);\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [nickname, setNickname] = useState(\"\");\n  const [errMessage, setErrMessage] = useState();\n  const history = useHistory();\n\n  // 註冊成功 → 寫入 token + 導向首頁\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (isLoading) return;\n    setIsLoading(true);\n    setErrMessage(\"\");\n    register(username, password, nickname).then((res) => {\n      if (res.ok !== 1) {\n        setIsLoading(false);\n        return setErrMessage(res.message);\n      }\n      setAuthToken(res.token);\n      getMe().then((response) => {\n        if (response.ok !== 1) {\n          setAuthToken(null);\n          setIsLoading(false);\n          return setErrMessage(response.message);\n        }\n        setUser(response.data);\n        setIsLoading(false);\n        history.push(\"/\");\n      });\n    });\n  };\n\n  // 防止這頁還沒跑完其他頁也不能跑\n  useEffect(() => {\n    return () => {\n      setIsLoading(false);\n    };\n  }, []);\n\n  return (\n    <>\n      {isLoading && <Loading />}\n      <Title>會員註冊</Title>\n      <form onSubmit={handleSubmit}>\n        <div>\n          帳號：\n          <br />\n          <Input\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n          />\n        </div>\n        <div>\n          密碼：\n          <br />\n          <Input\n            type='password'\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </div>\n        <div>\n          暱稱：\n          <br />\n          <Input\n            value={nickname}\n            onChange={(e) => setNickname(e.target.value)}\n          />\n        </div>\n        {errMessage && <ErrMessage>{errMessage}</ErrMessage>}\n        <Button>送出</Button>\n      </form>\n    </>\n  );\n}\n","import { HashRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport Header from \"../Header\";\nimport HomePage from \"../../pages/HomePage\";\nimport LoginPage from \"../../pages/LoginPage\";\nimport PostPage from \"../../pages/PostPage\";\nimport AddPostPage from \"../../pages/AddPostPage\";\nimport AboutPage from \"../../pages/AboutPage\";\nimport RegisterPage from \"../../pages/RegisterPage\";\nimport { AuthContext, LoadingContext } from \"../../contexts\";\nimport { getMe } from \"../../WebAPI\";\nimport { getAuthToken } from \"../../utils\";\n\nconst Root = styled.div`\n  margin-top: 72px;\n`;\n\nconst Wrapper = styled.div`\n  width: 600px;\n  margin: 0 auto;\n  background: #e9e7da;\n  padding: 20px;\n  border-radius: 10px;\n  box-shadow: 1px 1px 2px rgba(20%, 20%, 40%, 0.5);\n  margin-bottom: 40px;\n  color: #373f27;\n`;\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    if (getAuthToken()) {\n      getMe().then((res) => {\n        if (res.ok) {\n          setUser(res.data);\n        }\n      });\n    }\n  }, []);\n\n  return (\n    <AuthContext.Provider value={{ user, setUser }}>\n      <LoadingContext.Provider value={{ isLoading, setIsLoading }}>\n        <Root>\n          <Wrapper>\n            <Router>\n              <Header></Header>\n              <Switch>\n                <Route exact path='/'>\n                  <HomePage />\n                </Route>\n              </Switch>\n              <Switch>\n                <Route path='/posts/:page'>\n                  <HomePage />\n                </Route>\n              </Switch>\n              <Route exact path='/login'>\n                <LoginPage />\n              </Route>\n              <Route path='/post/:id'>\n                <PostPage />\n              </Route>\n              <Route exact path='/addPost'>\n                <AddPostPage />\n              </Route>\n              <Route exact path='/about'>\n                <AboutPage />\n              </Route>\n              <Route exact path='/register'>\n                <RegisterPage />\n              </Route>\n            </Router>\n          </Wrapper>\n        </Root>\n      </LoadingContext.Provider>\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App/index\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}