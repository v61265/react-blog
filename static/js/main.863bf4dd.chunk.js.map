{"version":3,"sources":["contexts.js","utils.js","components/Header/Header.js","images/loading.svg","components/Loading/Loading.js","WebAPI.js","pages/HomePage/HomePage.js","pages/LoginPage/LoginPage.js","pages/PostPage/PostPage.js","pages/AddPostPage/AddPostPage.js","pages/AboutPage/AboutPage.js","pages/RegisterPage/RegisterPage.js","components/App/App.js","index.js"],"names":["AuthContext","createContext","LoadingContext","TOKEN_NAME","setAuthToken","token","localStorage","setItem","getAuthToken","getItem","HeaderContainer","styled","div","LeftContainer","Brand","Link","NavebarList","Nav","NavLink","Header","useLocation","pathname","useContext","user","setUser","history","useHistory","to","activeStyle","background","onClick","push","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","transform","cx","cy","r","fill","fillOpacity","attributeName","type","begin","values","keyTimes","dur","repeatCount","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","SvgLoading","_ref","svgRef","title","titleId","props","xmlns","xmlnsXlink","style","margin","display","shapeRendering","width","height","viewBox","preserveAspectRatio","ref","id","ForwardRef","LoadingWrapper","Loading","BASE_URL","getMe","fetch","headers","authorization","then","res","json","PostContainer","PostDate","PostTitle","Pagination","$active","PaginationWrapper","Post","post","Date","createdAt","toLocaleString","HomePage","location","page","useParams","useState","posts","setPosts","isLoading","setIsLoading","pagesNum","useRef","useEffect","postsNum","current","Math","ceil","limit","getPostsFromPage","map","Array","item","index","Input","input","Button","button","Title","h1","ErrMessage","username","setUsername","password","setPassword","errMessage","setErrMessage","onSubmit","e","preventDefault","method","body","JSON","stringify","login","data","ok","message","response","value","onChange","InfoContainer","PostAuthor","Body","author","PostPage","setPost","setAuthor","getPost","nickname","propType","PropTypes","object","string","Textarea","textarea","setTitle","content","setContent","console","log","addPost","alert","Meme","img","AboutPage","src","setNickname","register","Root","Wrapper","App","Provider","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.863bf4dd.chunk.js","sourcesContent":["import { createContext } from \"react\";\n\nexport const AuthContext = createContext(null);\nexport const LoadingContext = createContext(null);\n","const TOKEN_NAME = \"token\";\n\nexport const setAuthToken = (token) => {\n  localStorage.setItem(TOKEN_NAME, token);\n};\n\nexport const getAuthToken = () => {\n  return localStorage.getItem(TOKEN_NAME);\n};\n","import React, { useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { Link, NavLink, useLocation, useHistory } from \"react-router-dom\";\nimport { AuthContext } from \"../../contexts\";\nimport { setAuthToken } from \"../../utils\";\n\nconst HeaderContainer = styled.div`\n  height: 64px;\n  border-bottom: 1px solid grey;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n  background: #636b46;\n  color: #e9e7da;\n  padding: 0 32px;\n`;\n\nconst LeftContainer = styled.div`\n  display: flex;\n`;\n\nconst Brand = styled(Link)`\n  font-size: 32px;\n  font-weight: bold;\n  margin-right: 10px;\n  display: flex;\n  height: 64px;\n  align-items: center;\n  color: #e9e7da;\n  text-decoration: none;\n`;\n\nconst NavebarList = styled.div`\n  display: flex;\n  font-ssize: 24px;\n  align-items: center;\n`;\n\nconst Nav = styled(NavLink)`\n  display: flex;\n  height: 64px;\n  align-items: center;\n  padding: 0 20px;\n  color: #e9e7da;\n  text-decoration: none;\n\n  &:hover {\n    cursor: pointer;\n    color: white;\n    background: #373f27;\n  }\n\n  &:active {\n    background: #373f27;\n  }\n\n  & + & {\n    margin-left: 5px;\n  }\n`;\n\nexport default function Header() {\n  const location = useLocation().pathname;\n  const { user, setUser } = useContext(AuthContext);\n  const history = useHistory();\n\n  const handleLogout = () => {\n    setAuthToken(\"\");\n    setUser(null);\n    history.push(\"/\");\n  };\n\n  return (\n    <HeaderContainer>\n      <LeftContainer>\n        <Brand to='/'>生菜的部落格</Brand>\n        <Nav to='/about' activeStyle={{ background: \"#373f27\" }}>\n          關於我\n        </Nav>\n        <NavebarList>\n          {user && (\n            <Nav to='/addPost' activeStyle={{ background: \"#373f27\" }}>\n              發布文章\n            </Nav>\n          )}\n        </NavebarList>\n      </LeftContainer>\n      <NavebarList>\n        {!user && (\n          <>\n            <Nav to='/register' activeStyle={{ background: \"#373f27\" }}>\n              註冊\n            </Nav>\n            <Nav to='/login' activeStyle={{ background: \"#373f27\" }}>\n              登入\n            </Nav>\n          </>\n        )}\n        {user && <Nav onClick={handleLogout}>登出</Nav>}\n      </NavebarList>\n    </HeaderContainer>\n  );\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(80,50)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"rotate(0)\"\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 0,\n  cy: 0,\n  r: 6,\n  fill: \"#f2bc39\",\n  fillOpacity: 1\n}, /*#__PURE__*/React.createElement(\"animateTransform\", {\n  attributeName: \"transform\",\n  type: \"scale\",\n  begin: \"-0.875s\",\n  values: \"1.5 1.5;1 1\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  repeatCount: \"indefinite\"\n}), /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"fill-opacity\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  repeatCount: \"indefinite\",\n  values: \"1;0\",\n  begin: \"-0.875s\"\n}))));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(71.21320343559643,71.21320343559643)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"rotate(45)\"\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 0,\n  cy: 0,\n  r: 6,\n  fill: \"#f2bc39\",\n  fillOpacity: 0.875\n}, /*#__PURE__*/React.createElement(\"animateTransform\", {\n  attributeName: \"transform\",\n  type: \"scale\",\n  begin: \"-0.75s\",\n  values: \"1.5 1.5;1 1\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  repeatCount: \"indefinite\"\n}), /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"fill-opacity\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  repeatCount: \"indefinite\",\n  values: \"1;0\",\n  begin: \"-0.75s\"\n}))));\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(50,80)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"rotate(90)\"\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 0,\n  cy: 0,\n  r: 6,\n  fill: \"#f2bc39\",\n  fillOpacity: 0.75\n}, /*#__PURE__*/React.createElement(\"animateTransform\", {\n  attributeName: \"transform\",\n  type: \"scale\",\n  begin: \"-0.625s\",\n  values: \"1.5 1.5;1 1\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  repeatCount: \"indefinite\"\n}), /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"fill-opacity\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  repeatCount: \"indefinite\",\n  values: \"1;0\",\n  begin: \"-0.625s\"\n}))));\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(28.786796564403577,71.21320343559643)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"rotate(135)\"\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 0,\n  cy: 0,\n  r: 6,\n  fill: \"#f2bc39\",\n  fillOpacity: 0.625\n}, /*#__PURE__*/React.createElement(\"animateTransform\", {\n  attributeName: \"transform\",\n  type: \"scale\",\n  begin: \"-0.5s\",\n  values: \"1.5 1.5;1 1\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  repeatCount: \"indefinite\"\n}), /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"fill-opacity\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  repeatCount: \"indefinite\",\n  values: \"1;0\",\n  begin: \"-0.5s\"\n}))));\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(20,50.00000000000001)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"rotate(180)\"\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 0,\n  cy: 0,\n  r: 6,\n  fill: \"#f2bc39\",\n  fillOpacity: 0.5\n}, /*#__PURE__*/React.createElement(\"animateTransform\", {\n  attributeName: \"transform\",\n  type: \"scale\",\n  begin: \"-0.375s\",\n  values: \"1.5 1.5;1 1\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  repeatCount: \"indefinite\"\n}), /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"fill-opacity\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  repeatCount: \"indefinite\",\n  values: \"1;0\",\n  begin: \"-0.375s\"\n}))));\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(28.78679656440357,28.786796564403577)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"rotate(225)\"\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 0,\n  cy: 0,\n  r: 6,\n  fill: \"#f2bc39\",\n  fillOpacity: 0.375\n}, /*#__PURE__*/React.createElement(\"animateTransform\", {\n  attributeName: \"transform\",\n  type: \"scale\",\n  begin: \"-0.25s\",\n  values: \"1.5 1.5;1 1\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  repeatCount: \"indefinite\"\n}), /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"fill-opacity\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  repeatCount: \"indefinite\",\n  values: \"1;0\",\n  begin: \"-0.25s\"\n}))));\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(49.99999999999999,20)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"rotate(270)\"\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 0,\n  cy: 0,\n  r: 6,\n  fill: \"#f2bc39\",\n  fillOpacity: 0.25\n}, /*#__PURE__*/React.createElement(\"animateTransform\", {\n  attributeName: \"transform\",\n  type: \"scale\",\n  begin: \"-0.125s\",\n  values: \"1.5 1.5;1 1\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  repeatCount: \"indefinite\"\n}), /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"fill-opacity\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  repeatCount: \"indefinite\",\n  values: \"1;0\",\n  begin: \"-0.125s\"\n}))));\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(71.21320343559643,28.78679656440357)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"rotate(315)\"\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 0,\n  cy: 0,\n  r: 6,\n  fill: \"#f2bc39\",\n  fillOpacity: 0.125\n}, /*#__PURE__*/React.createElement(\"animateTransform\", {\n  attributeName: \"transform\",\n  type: \"scale\",\n  begin: \"0s\",\n  values: \"1.5 1.5;1 1\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  repeatCount: \"indefinite\"\n}), /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"fill-opacity\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  repeatCount: \"indefinite\",\n  values: \"1;0\",\n  begin: \"0s\"\n}))));\n\nfunction SvgLoading(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    style: {\n      margin: \"auto\",\n      display: \"block\",\n      shapeRendering: \"auto\"\n    },\n    width: \"200px\",\n    height: \"200px\",\n    viewBox: \"0 0 100 100\",\n    preserveAspectRatio: \"xMidYMid\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLoading);\nexport default __webpack_public_path__ + \"static/media/loading.8bc1f26f.svg\";\nexport { ForwardRef as ReactComponent };","import styled from \"styled-components\";\nimport { ReactComponent as LoadingSVG } from \"../../images/loading.svg\";\n\nconst LoadingWrapper = styled.div`\n  margin: 0 auto;\n  text-align: center;\n  position: fixed;\n  width: 500px;\n  top: 72px;\n`;\n\nexport default function Loading() {\n  return (\n    <LoadingWrapper>\n      <LoadingSVG />\n    </LoadingWrapper>\n  );\n}\n","import { getAuthToken } from \"./utils\";\n\nconst BASE_URL = \"https://student-json-api.lidemy.me\";\n\nexport const getPosts = () => {\n  return fetch(\n    `${BASE_URL}/posts?_sort=createdAt&_order=desc&_expand=user`\n  ).then((res) => res.json());\n};\n\nexport const getPostsFromPage = (page, limit) => {\n  return fetch(\n    `${BASE_URL}/posts?_expand=user&_sort=createdAt&_order=desc&_page=${page}&_limit=${limit}`\n  ).then((res) => res.json());\n};\n\nexport const login = (username, password) => {\n  return fetch(`${BASE_URL}/login`, {\n    method: \"POST\",\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      username,\n      password,\n    }),\n  }).then((res) => res.json());\n};\n\nexport const getMe = () => {\n  const token = getAuthToken();\n  return fetch(`${BASE_URL}/me`, {\n    headers: {\n      authorization: `Bearer ${token}`,\n    },\n  }).then((res) => res.json());\n};\n\nexport const getPost = (id) => {\n  return fetch(`${BASE_URL}/posts?_expand=user&id=${id}`).then((res) => {\n    return res.json();\n  });\n};\n\nexport const addPost = (title, body) => {\n  const token = getAuthToken();\n  console.log(title);\n  return fetch(`${BASE_URL}/posts`, {\n    method: \"POST\",\n    headers: {\n      authorization: `Bearer ${token}`,\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      title,\n      body,\n    }),\n  }).then((res) => res.json());\n};\n\nexport const register = (username, password, nickname) => {\n  return fetch(`${BASE_URL}/register`, {\n    method: \"POST\",\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      nickname,\n      username,\n      password,\n    }),\n  }).then((res) => res.json());\n};\n","import { useState, useEffect, useContext, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport PropTypes from \"prop-types\";\nimport { Link, useParams, useLocation } from \"react-router-dom\";\nimport Loading from \"../../components/Loading\";\nimport { LoadingContext } from \"../../contexts\";\n\nimport { getPosts, getPostsFromPage } from \"../../WebAPI\";\n\nconst PostContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding: 15px;\n  font-size: 16px;\n  border-bottom: 1px solid #636b46;\n  color: #373f27;\n`;\n\nconst PostDate = styled.div``;\n\nconst PostTitle = styled(Link)`\n  width: 350px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  text-decoration: none;\n  font-size: 16px;\n  color: #373f27;\n  font-weight: bold;\n`;\n\nconst Pagination = styled(Link)`\n  padding: 10px;\n  color: #373f27;\n  border: 1px solid #373f27;\n  background: #e9e7da;\n  text-decoration: none;\n  border-radius: 5px;\n\n  &:hover {\n    background: #373f27;\n    color: #e9e7da;\n  }\n\n  & + & {\n    margin-left: 5px;\n  }\n\n  ${(props) =>\n    props.$active &&\n    `\n  background: #373f27;\n  color: #e9e7da;`}\n`;\n\nconst PaginationWrapper = styled.div`\n  margin: 0 auto;\n  margin-top: 10px;\n  display: flex;\n  justify-content: center;\n`;\n\nPost.propTypes = {\n  post: PropTypes.shape({\n    id: PropTypes.string,\n    title: PropTypes.string,\n    createdAt: PropTypes.string,\n  }),\n};\n\nfunction Post({ post }) {\n  return (\n    <PostContainer>\n      <PostTitle to={`/post/${post.id}`}>{post.title}</PostTitle>\n      <PostDate>{new Date(post.createdAt).toLocaleString()}</PostDate>\n    </PostContainer>\n  );\n}\n\n// 分頁邏輯：先抓全部的得到總數 -> render 第一頁和按鈕\n\nexport default function HomePage() {\n  const location = useLocation().pathname;\n  const limit = 5;\n  let { page } = useParams();\n  if (!page) page = 1;\n  const [posts, setPosts] = useState([]);\n  const { isLoading, setIsLoading } = useContext(LoadingContext);\n  let pagesNum = useRef();\n\n  useEffect(() => {\n    setIsLoading(true);\n    getPosts().then((posts) => {\n      const postsNum = posts.length;\n      pagesNum.current = Math.ceil(postsNum / limit);\n      getPostsFromPage(page, limit).then((posts) => {\n        setIsLoading(false);\n        setPosts(posts);\n      });\n    });\n\n    return () => {\n      setIsLoading(false);\n    };\n  }, [page]);\n\n  return (\n    <>\n      {isLoading && <Loading />}\n      {posts.map((post) => (\n        <Post key={post.id} post={post} />\n      ))}\n      <PaginationWrapper>\n        {new Array(pagesNum.current).fill(\"\").map((item, index) => {\n          return (\n            <Pagination\n              key={index}\n              to={`/posts/${index + 1}`}\n              $active={\n                location === `/posts/${index + 1}` ||\n                (location === \"/\" && index === 0)\n              }\n            >\n              {index + 1}\n            </Pagination>\n          );\n        })}\n      </PaginationWrapper>\n    </>\n  );\n}\n","import { setAuthToken } from \"../../utils\";\nimport { useState, useContext, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport PropTypes from \"prop-types\";\nimport { useHistory } from \"react-router-dom\";\nimport { login, getMe } from \"../../WebAPI\";\nimport { AuthContext } from \"../../contexts\";\nimport Loading from \"../../components/Loading\";\nimport { LoadingContext } from \"../../contexts\";\n\nconst Input = styled.input`\n  color: #373f27;\n  margin-bottom: 5px;\n  padding: 5px;\n  border: 1px solid #cda34f;\n  border-radius: 3px;\n\n  &:focus {\n    outline: none;\n  }\n`;\n\nconst Button = styled.button`\n  padding: 5px 10px;\n  background: #e9e7da;\n  color: #636b46;\n  border: 1px solid #636b46;\n  border-radius: 3px;\n  margin-top: 10px;\n\n  &:hover {\n    color: #373f27;\n    cursor: pointer;\n  }\n`;\n\nconst Title = styled.h1`\n  margin-top: 0px;\n`;\n\nconst ErrMessage = styled.div`\n  color: red;\n`;\n\nexport default function HomePage() {\n  const { setUser } = useContext(AuthContext);\n  const { isLoading, setIsLoading } = useContext(LoadingContext);\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errMessage, setErrMessage] = useState();\n  const history = useHistory();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (isLoading) return;\n    setIsLoading(true);\n    setErrMessage(\"\");\n    login(username, password).then((data) => {\n      if (!data.ok) {\n        setIsLoading(false);\n        return setErrMessage(data.message);\n      }\n      setAuthToken(data.token);\n      getMe().then((response) => {\n        if (response.ok !== 1) {\n          setAuthToken(null);\n          setIsLoading(false);\n          return setErrMessage(response.message);\n        }\n        setUser(response.data);\n        setIsLoading(false);\n        history.push(\"/\");\n      });\n    });\n  };\n\n  // 防止這頁還沒跑完其他頁也不能跑\n  useEffect(() => {\n    return () => {\n      setIsLoading(false);\n    };\n  }, []);\n\n  return (\n    <>\n      {isLoading && <Loading />}\n      <Title>會員登入</Title>\n      <form onSubmit={handleSubmit}>\n        <div>\n          帳號：\n          <br />\n          <Input\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n          />\n        </div>\n        <div>\n          密碼：\n          <br />\n          <Input\n            type='password'\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </div>\n        {errMessage && <ErrMessage>{errMessage}</ErrMessage>}\n        <Button>送出</Button>\n      </form>\n    </>\n  );\n}\n","import { useState, useEffect, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport PropTypes from \"prop-types\";\nimport { useParams } from \"react-router-dom\";\nimport { LoadingContext } from \"../../contexts\";\nimport Loading from \"../../components/Loading\";\n\nimport { getPost } from \"../../WebAPI\";\n\nconst InfoContainer = styled.div`\n  font-size: 16px;\n  color: #373f27;\n`;\n\nconst PostAuthor = styled.div`\n  font-size: 16px;\n  margin-top: 10px;\n`;\n\nconst PostDate = styled.div`\n  font-size: 16px;\n  margin-top: 5px;\n`;\n\nconst PostTitle = styled.div`\n  text-decoration: none;\n  font-size: 32px;\n  color: #373f27;\n  font-weight: bold;\n`;\n\nconst Body = styled.div`\n  margin-top: 10px;\n  font-size: 14px;\n  line-height: 2rem;\n  white-space: pre-wrap;\n`;\n\nfunction Post({ post, author }) {\n  return (\n    <>\n      <InfoContainer>\n        <PostTitle>{post.title}</PostTitle>\n        <PostAuthor>作者：{author}</PostAuthor>\n        <PostDate>\n          日期：\n          {new Date(post.createdAt).toLocaleString()}\n        </PostDate>\n      </InfoContainer>\n      <Body>{post.body}</Body>\n    </>\n  );\n}\n\nPost.propType = {\n  post: PropTypes.object,\n};\n\nexport default function PostPage() {\n  const [post, setPost] = useState([]);\n  const [author, setAuthor] = useState([]);\n  const { isLoading, setIsLoading } = useContext(LoadingContext);\n  const { id } = useParams();\n\n  useEffect(() => {\n    setIsLoading(true);\n    getPost(id).then((post) => {\n      setPost(post[0]);\n      setIsLoading(false);\n      setAuthor(post[0].user.nickname);\n    });\n\n    return () => {\n      setIsLoading(false);\n    };\n  }, []);\n\n  return (\n    <>\n      {isLoading && <Loading />}\n      <Post key={post.id} post={post} author={author} />\n    </>\n  );\n}\n\nPost.propType = {\n  post: PropTypes.object,\n  author: PropTypes.string,\n};\n","import { setAuthToken } from \"../../utils\";\nimport { useState, useContext, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport PropTypes from \"prop-types\";\nimport { useHistory } from \"react-router-dom\";\nimport { addPost } from \"../../WebAPI\";\nimport { AuthContext } from \"../../contexts\";\nimport Loading from \"../../components/Loading\";\nimport { LoadingContext } from \"../../contexts\";\n\nconst Input = styled.input`\n  color: #373f27;\n  margin-bottom: 5px;\n  padding: 5px;\n  border: 1px solid #cda34f;\n  border-radius: 3px;\n  width: 95%;\n  margin-top: 5px;\n  font-size: 16px;\n\n  &:focus {\n    outline: none;\n  }\n`;\n\nconst Textarea = styled.textarea`\n  color: #373f27;\n  margin-bottom: 5px;\n  padding: 5px;\n  border: 1px solid #cda34f;\n  border-radius: 3px;\n  width: 95%;\n  height: 20rem;\n  margin-top: 5px;\n  font-size: 16px;\n\n  &:focus {\n    outline: none;\n  }\n`;\n\nconst Button = styled.button`\n  padding: 5px 10px;\n  background: #e9e7da;\n  color: #636b46;\n  border: 1px solid #636b46;\n  border-radius: 3px;\n  margin-top: 10px;\n\n  &:hover {\n    color: #373f27;\n    cursor: pointer;\n  }\n`;\n\nconst Title = styled.h1`\n  margin-top: 0px;\n`;\n\nconst ErrMessage = styled.div`\n  color: red;\n`;\n\nexport default function HomePage() {\n  const { user } = useContext(AuthContext);\n  const { isLoading, setIsLoading } = useContext(LoadingContext);\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const [errMessage, setErrMessage] = useState();\n  const history = useHistory();\n\n  // 身分驗證\n  if (!user) {\n    history.push(\"/\");\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (isLoading) return;\n    setIsLoading(true);\n    setErrMessage(\"\");\n    addPost(title, content).then((response) => {\n      if (response.ok === 0) {\n        setIsLoading(false);\n        return setErrMessage(response.message);\n      }\n      alert(\"發布成功\");\n      setIsLoading(false);\n      history.push(\"/\");\n    });\n  };\n\n  // 防止這頁還沒跑完其他頁也不能跑\n  useEffect(() => {\n    return setIsLoading(false);\n  }, []);\n\n  return (\n    <>\n      {isLoading && <Loading />}\n      <Title>發布文章</Title>\n      <form onSubmit={handleSubmit}>\n        <div>\n          標題：\n          <br />\n          <Input value={title} onChange={(e) => setTitle(e.target.value)} />\n        </div>\n        <div>\n          內文：\n          <br />\n          <Textarea\n            value={content}\n            onChange={(e) => setContent(e.target.value)}\n          />\n        </div>\n        {errMessage && <ErrMessage>{errMessage}</ErrMessage>}\n        <Button>送出</Button>\n      </form>\n    </>\n  );\n}\n","import styled from \"styled-components\";\n\nconst Meme = styled.img`\n  width: 80%;\n  height: 50%;\n  margin-top: 2rem;\n`;\n\nexport default function AboutPage() {\n  return (\n    <>\n      <h1>About Me</h1>\n      生菜，正在練習用 react 做部落格。\n      <Meme src='https://scontent.fkhh1-1.fna.fbcdn.net/v/t1.0-9/129622091_4955958677778025_5487173615913268757_o.jpg?_nc_cat=103&ccb=2&_nc_sid=8bfeb9&_nc_ohc=p5CWpq-dEooAX_tcHTs&_nc_ht=scontent.fkhh1-1.fna&oh=d799209f2c70471119e3171d399f648d&oe=5FF92991' />\n      <div>（圖片來源：迷因刻本）</div>\n    </>\n  );\n}\n","import { setAuthToken } from \"../../utils\";\nimport { useState, useContext, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport PropTypes from \"prop-types\";\nimport { useHistory } from \"react-router-dom\";\nimport { register, getMe } from \"../../WebAPI\";\nimport { AuthContext } from \"../../contexts\";\nimport Loading from \"../../components/Loading\";\nimport { LoadingContext } from \"../../contexts\";\n\nconst Input = styled.input`\n  color: #373f27;\n  margin-bottom: 5px;\n  padding: 5px;\n  border: 1px solid #cda34f;\n  border-radius: 3px;\n\n  &:focus {\n    outline: none;\n  }\n`;\n\nconst Button = styled.button`\n  padding: 5px 10px;\n  background: #e9e7da;\n  color: #636b46;\n  border: 1px solid #636b46;\n  border-radius: 3px;\n  margin-top: 10px;\n\n  &:hover {\n    color: #373f27;\n    cursor: pointer;\n  }\n`;\n\nconst Title = styled.h1`\n  margin-top: 0px;\n`;\n\nconst ErrMessage = styled.div`\n  color: red;\n`;\n\nexport default function HomePage() {\n  const { setUser } = useContext(AuthContext);\n  const { isLoading, setIsLoading } = useContext(LoadingContext);\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [nickname, setNickname] = useState(\"\");\n  const [errMessage, setErrMessage] = useState();\n  const history = useHistory();\n\n  // 註冊成功 → 寫入 token + 導向首頁\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (isLoading) return;\n    setIsLoading(true);\n    setErrMessage(\"\");\n    register(username, password, nickname).then((res) => {\n      if (res.ok !== 1) {\n        setIsLoading(false);\n        return setErrMessage(res.message);\n      }\n      setAuthToken(res.token);\n      getMe().then((response) => {\n        if (response.ok !== 1) {\n          setAuthToken(null);\n          setIsLoading(false);\n          return setErrMessage(response.message);\n        }\n        setUser(response.data);\n        setIsLoading(false);\n        history.push(\"/\");\n      });\n    });\n  };\n\n  // 防止這頁還沒跑完其他頁也不能跑\n  useEffect(() => {\n    return () => {\n      setIsLoading(false);\n    };\n  }, []);\n\n  return (\n    <>\n      {isLoading && <Loading />}\n      <Title>會員註冊</Title>\n      <form onSubmit={handleSubmit}>\n        <div>\n          帳號：\n          <br />\n          <Input\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n          />\n        </div>\n        <div>\n          密碼：\n          <br />\n          <Input\n            type='password'\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </div>\n        <div>\n          暱稱：\n          <br />\n          <Input\n            value={nickname}\n            onChange={(e) => setNickname(e.target.value)}\n          />\n        </div>\n        {errMessage && <ErrMessage>{errMessage}</ErrMessage>}\n        <Button>送出</Button>\n      </form>\n    </>\n  );\n}\n","import { HashRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport Header from \"../Header\";\nimport HomePage from \"../../pages/HomePage\";\nimport LoginPage from \"../../pages/LoginPage\";\nimport PostPage from \"../../pages/PostPage\";\nimport AddPostPage from \"../../pages/AddPostPage\";\nimport AboutPage from \"../../pages/AboutPage\";\nimport RegisterPage from \"../../pages/RegisterPage\";\nimport { AuthContext, LoadingContext } from \"../../contexts\";\nimport { getMe } from \"../../WebAPI\";\nimport { getAuthToken } from \"../../utils\";\n\nconst Root = styled.div`\n  margin-top: 72px;\n`;\n\nconst Wrapper = styled.div`\n  width: 600px;\n  margin: 0 auto;\n  background: #e9e7da;\n  padding: 20px;\n  border-radius: 10px;\n  box-shadow: 1px 1px 2px rgba(20%, 20%, 40%, 0.5);\n  margin-bottom: 40px;\n  color: #373f27;\n`;\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    if (getAuthToken()) {\n      getMe().then((res) => {\n        if (res.ok) {\n          setUser(res.data);\n        }\n      });\n    }\n  }, []);\n\n  return (\n    <AuthContext.Provider value={{ user, setUser }}>\n      <LoadingContext.Provider value={{ isLoading, setIsLoading }}>\n        <Root>\n          <Wrapper>\n            <Router>\n              <Header />\n              <Switch>\n                <Route exact path='/'>\n                  <HomePage />\n                </Route>\n              </Switch>\n              <Switch>\n                <Route path='/posts/:page'>\n                  <HomePage />\n                </Route>\n              </Switch>\n              <Route exact path='/login'>\n                <LoginPage />\n              </Route>\n              <Route path='/post/:id'>\n                <PostPage />\n              </Route>\n              <Route exact path='/addPost'>\n                <AddPostPage />\n              </Route>\n              <Route exact path='/about'>\n                <AboutPage />\n              </Route>\n              <Route exact path='/register'>\n                <RegisterPage />\n              </Route>\n            </Router>\n          </Wrapper>\n        </Root>\n      </LoadingContext.Provider>\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App/index\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}