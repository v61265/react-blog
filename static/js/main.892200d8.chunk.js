(this["webpackJsonpreact-blog"]=this["webpackJsonpreact-blog"]||[]).push([[0],{35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n.n(a),i=n(20),o=n.n(i),s=n(4),u=n(2),l=n(9),b=n(5),f=n(3),d=Object(a.createContext)(null),j=Object(a.createContext)(null),p="token",x=function(e){localStorage.setItem(p,e)},O=function(){return localStorage.getItem(p)};function m(){var e=Object(u.a)(["\n  display: flex;\n  height: 64px;\n  align-items: center;\n  padding: 0 20px;\n  color: #e9e7da;\n  text-decoration: none;\n\n  &:hover {\n    cursor: pointer;\n    color: white;\n    background: #373f27;\n  }\n\n  & + & {\n    margin-left: 5px;\n  }\n\n  ","\n"]);return m=function(){return e},e}function h(){var e=Object(u.a)(["\n  display: flex;\n  font-ssize: 24px;\n  align-items: center;\n"]);return h=function(){return e},e}function g(){var e=Object(u.a)(["\n  font-size: 32px;\n  font-weight: bold;\n  margin-right: 10px;\n  display: flex;\n  height: 64px;\n  align-items: center;\n  color: #e9e7da;\n  text-decoration: none;\n"]);return g=function(){return e},e}function v(){var e=Object(u.a)(["\n  display: flex;\n"]);return v=function(){return e},e}function y(){var e=Object(u.a)(["\n  height: 64px;\n  border-bottom: 1px solid grey;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n  background: #636b46;\n  color: #e9e7da;\n  padding: 0 32px;\n"]);return y=function(){return e},e}var E=f.a.div(y()),k=f.a.div(v()),w=Object(f.a)(l.b)(g()),C=f.a.div(h()),S=Object(f.a)(l.b)(m(),(function(e){return e.$active&&"\n  background: #373f27;"}));function T(){var e=Object(b.g)().pathname,t=Object(a.useContext)(d),n=t.user,c=t.setUser,i=Object(b.f)();return Object(r.jsxs)(E,{children:[Object(r.jsxs)(k,{children:[Object(r.jsx)(w,{to:"/",children:"\u751f\u83dc\u7684\u90e8\u843d\u683c"}),Object(r.jsx)(S,{to:"/about",$active:"/about"===e,children:"\u95dc\u65bc\u6211"}),Object(r.jsx)(C,{children:n&&Object(r.jsx)(S,{to:"/addPost",$active:"/addPost"===e,children:"\u767c\u5e03\u6587\u7ae0"})})]}),Object(r.jsxs)(C,{children:[!n&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(S,{to:"/register",$active:"/register"===e,children:"\u8a3b\u518a"}),Object(r.jsx)(S,{to:"/login",$active:"/login"===e,children:"\u767b\u5165"})]}),n&&Object(r.jsx)(S,{onClick:function(){x(""),c(null),i.push("/")},children:"\u767b\u51fa"})]})]})}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var L=a.createElement("g",{transform:"translate(80,50)"},a.createElement("g",{transform:"rotate(0)"},a.createElement("circle",{cx:0,cy:0,r:6,fill:"#f2bc39",fillOpacity:1},a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.875s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),a.createElement("animate",{attributeName:"fill-opacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.875s"})))),z=a.createElement("g",{transform:"translate(71.21320343559643,71.21320343559643)"},a.createElement("g",{transform:"rotate(45)"},a.createElement("circle",{cx:0,cy:0,r:6,fill:"#f2bc39",fillOpacity:.875},a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.75s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),a.createElement("animate",{attributeName:"fill-opacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.75s"})))),I=a.createElement("g",{transform:"translate(50,80)"},a.createElement("g",{transform:"rotate(90)"},a.createElement("circle",{cx:0,cy:0,r:6,fill:"#f2bc39",fillOpacity:.75},a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.625s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),a.createElement("animate",{attributeName:"fill-opacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.625s"})))),P=a.createElement("g",{transform:"translate(28.786796564403577,71.21320343559643)"},a.createElement("g",{transform:"rotate(135)"},a.createElement("circle",{cx:0,cy:0,r:6,fill:"#f2bc39",fillOpacity:.625},a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.5s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),a.createElement("animate",{attributeName:"fill-opacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.5s"})))),F=a.createElement("g",{transform:"translate(20,50.00000000000001)"},a.createElement("g",{transform:"rotate(180)"},a.createElement("circle",{cx:0,cy:0,r:6,fill:"#f2bc39",fillOpacity:.5},a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.375s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),a.createElement("animate",{attributeName:"fill-opacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.375s"})))),A=a.createElement("g",{transform:"translate(28.78679656440357,28.786796564403577)"},a.createElement("g",{transform:"rotate(225)"},a.createElement("circle",{cx:0,cy:0,r:6,fill:"#f2bc39",fillOpacity:.375},a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.25s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),a.createElement("animate",{attributeName:"fill-opacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.25s"})))),$=a.createElement("g",{transform:"translate(49.99999999999999,20)"},a.createElement("g",{transform:"rotate(270)"},a.createElement("circle",{cx:0,cy:0,r:6,fill:"#f2bc39",fillOpacity:.25},a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.125s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),a.createElement("animate",{attributeName:"fill-opacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.125s"})))),D=a.createElement("g",{transform:"translate(71.21320343559643,28.78679656440357)"},a.createElement("g",{transform:"rotate(315)"},a.createElement("circle",{cx:0,cy:0,r:6,fill:"#f2bc39",fillOpacity:.125},a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"0s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),a.createElement("animate",{attributeName:"fill-opacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"0s"}))));function J(e,t){var n=e.title,r=e.titleId,c=N(e,["title","titleId"]);return a.createElement("svg",_({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{margin:"auto",display:"block",shapeRendering:"auto"},width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,L,z,I,P,F,A,$,D)}var M=a.forwardRef(J);n.p;function B(){var e=Object(u.a)(["\n  margin: 0 auto;\n  text-align: center;\n  position: fixed;\n  width: 500px;\n  top: 72px;\n"]);return B=function(){return e},e}var R=f.a.div(B());function U(){return Object(r.jsx)(R,{children:Object(r.jsx)(M,{})})}var X="https://student-json-api.lidemy.me",q=function(){var e=O();return fetch("".concat(X,"/me"),{headers:{authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()}))},H=function(e){return fetch("".concat(X,"/posts?_expand=user&id=").concat(e)).then((function(e){return e.json()}))};function W(){var e=Object(u.a)(["\n  margin: 0 auto;\n  margin-top: 10px;\n  display: flex;\n  justify-content: center;\n"]);return W=function(){return e},e}function Y(){var e=Object(u.a)(["\n  padding: 10px;\n  color: #373f27;\n  border: 1px solid #373f27;\n  background: #e9e7da;\n  text-decoration: none;\n  border-radius: 5px;\n\n  &:hover {\n    background: #373f27;\n    color: #e9e7da;\n  }\n\n  & + & {\n    margin-left: 5px;\n  }\n\n  ","\n"]);return Y=function(){return e},e}function G(){var e=Object(u.a)(["\n  width: 350px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  text-decoration: none;\n  font-size: 16px;\n  color: #373f27;\n  font-weight: bold;\n"]);return G=function(){return e},e}function K(){var e=Object(u.a)([""]);return K=function(){return e},e}function Q(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 15px;\n  font-size: 16px;\n  border-bottom: 1px solid #636b46;\n  color: #373f27;\n"]);return Q=function(){return e},e}var V=f.a.div(Q()),Z=f.a.div(K()),ee=Object(f.a)(l.b)(G()),te=Object(f.a)(l.b)(Y(),(function(e){return e.$active&&"\n  background: #373f27;\n  color: #e9e7da;"})),ne=f.a.div(W());function re(e){var t=e.post;return Object(r.jsxs)(V,{children:[Object(r.jsx)(ee,{to:"/post/".concat(t.id),children:t.title}),Object(r.jsx)(Z,{children:new Date(t.createdAt).toLocaleString()})]})}function ae(){var e=Object(b.g)().pathname,t=Object(b.h)().page;t||(t=1);var n=Object(a.useState)([]),c=Object(s.a)(n,2),i=c[0],o=c[1],u=Object(a.useContext)(j),l=u.isLoading,f=u.setIsLoading,d=Object(a.useRef)();return Object(a.useEffect)((function(){return f(!0),fetch("".concat(X,"/posts?_sort=createdAt&_order=desc&_expand=user")).then((function(e){return e.json()})).then((function(e){var n=e.length;d.current=Math.ceil(n/5),function(e,t){return fetch("".concat(X,"/posts?_expand=user&_sort=createdAt&_order=desc&_page=").concat(e,"&_limit=").concat(t)).then((function(e){return e.json()}))}(t,5).then((function(e){f(!1),o(e)}))})),function(){f(!1)}}),[t]),Object(r.jsxs)(r.Fragment,{children:[l&&Object(r.jsx)(U,{}),i.map((function(e){return Object(r.jsx)(re,{post:e},e.id)})),Object(r.jsx)(ne,{children:new Array(d.current).fill("").map((function(t,n){return Object(r.jsx)(te,{to:"/posts/".concat(n+1),$active:e==="/posts/".concat(n+1)||"/"===e&&0===n,children:n+1},n)}))})]})}function ce(){var e=Object(u.a)(["\n  color: red;\n"]);return ce=function(){return e},e}function ie(){var e=Object(u.a)(["\n  margin-top: 0px;\n"]);return ie=function(){return e},e}function oe(){var e=Object(u.a)(["\n  padding: 5px 10px;\n  background: #e9e7da;\n  color: #636b46;\n  border: 1px solid #636b46;\n  border-radius: 3px;\n  margin-top: 10px;\n\n  &:hover {\n    color: #373f27;\n    cursor: pointer;\n  }\n"]);return oe=function(){return e},e}function se(){var e=Object(u.a)(["\n  color: #373f27;\n  margin-bottom: 5px;\n  padding: 5px;\n  border: 1px solid #cda34f;\n  border-radius: 3px;\n\n  &:focus {\n    outline: none;\n  }\n"]);return se=function(){return e},e}var ue=f.a.input(se()),le=f.a.button(oe()),be=f.a.h1(ie()),fe=f.a.div(ce());function de(){var e=Object(a.useContext)(d).setUser,t=Object(a.useContext)(j),n=t.isLoading,c=t.setIsLoading,i=Object(a.useState)(""),o=Object(s.a)(i,2),u=o[0],l=o[1],f=Object(a.useState)(""),p=Object(s.a)(f,2),O=p[0],m=p[1],h=Object(a.useState)(),g=Object(s.a)(h,2),v=g[0],y=g[1],E=Object(b.f)();return Object(a.useEffect)((function(){return function(){c(!1)}}),[]),Object(r.jsxs)(r.Fragment,{children:[n&&Object(r.jsx)(U,{}),Object(r.jsx)(be,{children:"\u6703\u54e1\u767b\u5165"}),Object(r.jsxs)("form",{onSubmit:function(t){t.preventDefault(),n||(c(!0),y(""),function(e,t){return fetch("".concat(X,"/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({username:e,password:t})}).then((function(e){return e.json()}))}(u,O).then((function(t){if(!t.ok)return c(!1),y(t.message);x(t.token),q().then((function(t){if(1!==t.ok)return x(null),c(!1),y(t.message);e(t.data),c(!1),E.push("/")}))})))},children:[Object(r.jsxs)("div",{children:["\u5e33\u865f\uff1a",Object(r.jsx)("br",{}),Object(r.jsx)(ue,{value:u,onChange:function(e){return l(e.target.value)}})]}),Object(r.jsxs)("div",{children:["\u5bc6\u78bc\uff1a",Object(r.jsx)("br",{}),Object(r.jsx)(ue,{type:"password",value:O,onChange:function(e){return m(e.target.value)}})]}),v&&Object(r.jsx)(fe,{children:v}),Object(r.jsx)(le,{children:"\u9001\u51fa"})]})]})}var je=n(11),pe=n.n(je);function xe(){var e=Object(u.a)(["\n  margin-top: 10px;\n  font-size: 14px;\n  line-height: 2rem;\n  white-space: pre-wrap;\n"]);return xe=function(){return e},e}function Oe(){var e=Object(u.a)(["\n  text-decoration: none;\n  font-size: 32px;\n  color: #373f27;\n  font-weight: bold;\n"]);return Oe=function(){return e},e}function me(){var e=Object(u.a)(["\n  font-size: 16px;\n  margin-top: 5px;\n"]);return me=function(){return e},e}function he(){var e=Object(u.a)(["\n  font-size: 16px;\n  margin-top: 10px;\n"]);return he=function(){return e},e}function ge(){var e=Object(u.a)(["\n  font-size: 16px;\n  color: #373f27;\n"]);return ge=function(){return e},e}var ve=f.a.div(ge()),ye=f.a.div(he()),Ee=f.a.div(me()),ke=f.a.div(Oe()),we=f.a.div(xe());function Ce(e){var t=e.post,n=e.author;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(ve,{children:[Object(r.jsx)(ke,{children:t.title}),Object(r.jsxs)(ye,{children:["\u4f5c\u8005\uff1a",n]}),Object(r.jsxs)(Ee,{children:["\u65e5\u671f\uff1a",new Date(t.createdAt).toLocaleString()]})]}),Object(r.jsx)(we,{children:t.body})]})}function Se(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)([]),o=Object(s.a)(i,2),u=o[0],l=o[1],f=Object(a.useContext)(j),d=f.isLoading,p=f.setIsLoading,x=Object(b.h)().id;return Object(a.useEffect)((function(){return p(!0),H(x).then((function(e){c(e[0]),p(!1),l(e[0].user.nickname)})),function(){p(!1)}}),[]),Object(r.jsxs)(r.Fragment,{children:[d&&Object(r.jsx)(U,{}),Object(r.jsx)(Ce,{post:n,author:u},n.id)]})}function Te(){var e=Object(u.a)(["\n  color: red;\n"]);return Te=function(){return e},e}function _e(){var e=Object(u.a)(["\n  margin-top: 0px;\n"]);return _e=function(){return e},e}function Ne(){var e=Object(u.a)(["\n  padding: 5px 10px;\n  background: #e9e7da;\n  color: #636b46;\n  border: 1px solid #636b46;\n  border-radius: 3px;\n  margin-top: 10px;\n\n  &:hover {\n    color: #373f27;\n    cursor: pointer;\n  }\n"]);return Ne=function(){return e},e}function Le(){var e=Object(u.a)(["\n  color: #373f27;\n  margin-bottom: 5px;\n  padding: 5px;\n  border: 1px solid #cda34f;\n  border-radius: 3px;\n  width: 95%;\n  height: 20rem;\n  margin-top: 5px;\n  font-size: 16px;\n\n  &:focus {\n    outline: none;\n  }\n"]);return Le=function(){return e},e}function ze(){var e=Object(u.a)(["\n  color: #373f27;\n  margin-bottom: 5px;\n  padding: 5px;\n  border: 1px solid #cda34f;\n  border-radius: 3px;\n  width: 95%;\n  margin-top: 5px;\n  font-size: 16px;\n\n  &:focus {\n    outline: none;\n  }\n"]);return ze=function(){return e},e}Ce.propType={post:pe.a.object},Ce.propType={post:pe.a.object,author:pe.a.string};var Ie=f.a.input(ze()),Pe=f.a.textarea(Le()),Fe=f.a.button(Ne()),Ae=f.a.h1(_e()),$e=f.a.div(Te());function De(){var e=Object(a.useContext)(d).user,t=Object(a.useContext)(j),n=t.isLoading,c=t.setIsLoading,i=Object(a.useState)(""),o=Object(s.a)(i,2),u=o[0],l=o[1],f=Object(a.useState)(""),p=Object(s.a)(f,2),x=p[0],m=p[1],h=Object(a.useState)(),g=Object(s.a)(h,2),v=g[0],y=g[1],E=Object(b.f)();e||E.push("/");return Object(a.useEffect)((function(){return c(!1)}),[]),Object(r.jsxs)(r.Fragment,{children:[n&&Object(r.jsx)(U,{}),Object(r.jsx)(Ae,{children:"\u767c\u5e03\u6587\u7ae0"}),Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n||(c(!0),y(""),function(e,t){var n=O();return console.log(e),fetch("".concat(X,"/posts"),{method:"POST",headers:{authorization:"Bearer ".concat(n),"content-type":"application/json"},body:JSON.stringify({title:e,body:t})}).then((function(e){return e.json()}))}(u,x).then((function(e){if(0===e.ok)return c(!1),y(e.message);alert("\u767c\u5e03\u6210\u529f"),c(!1),E.push("/")})))},children:[Object(r.jsxs)("div",{children:["\u6a19\u984c\uff1a",Object(r.jsx)("br",{}),Object(r.jsx)(Ie,{value:u,onChange:function(e){return l(e.target.value)}})]}),Object(r.jsxs)("div",{children:["\u5167\u6587\uff1a",Object(r.jsx)("br",{}),Object(r.jsx)(Pe,{value:x,onChange:function(e){return m(e.target.value)}})]}),v&&Object(r.jsx)($e,{children:v}),Object(r.jsx)(Fe,{children:"\u9001\u51fa"})]})]})}function Je(){var e=Object(u.a)(["\n  width: 80%;\n  height: 50%;\n  margin-top: 2rem;\n"]);return Je=function(){return e},e}var Me=f.a.img(Je());function Be(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=(t[0],t[1]),c=Object(a.useContext)(j),i=c.isLoading,o=c.setIsLoading;return Object(a.useEffect)((function(){return o(!0),H(72).then((function(e){n(e[0]),o(!1)})),function(){o(!1)}}),[]),Object(r.jsxs)(r.Fragment,{children:[i&&Object(r.jsx)(U,{}),Object(r.jsx)("h1",{children:"About Me"}),"\u751f\u83dc\uff0c\u6b63\u5728\u7df4\u7fd2\u7528 react \u505a\u90e8\u843d\u683c\u3002",Object(r.jsx)(Me,{src:"https://scontent.fkhh1-1.fna.fbcdn.net/v/t1.0-9/129622091_4955958677778025_5487173615913268757_o.jpg?_nc_cat=103&ccb=2&_nc_sid=8bfeb9&_nc_ohc=p5CWpq-dEooAX_tcHTs&_nc_ht=scontent.fkhh1-1.fna&oh=d799209f2c70471119e3171d399f648d&oe=5FF92991"}),Object(r.jsx)("div",{children:"\uff08\u5716\u7247\u4f86\u6e90\uff1a\u8ff7\u56e0\u523b\u672c\uff09"})]})}function Re(){var e=Object(u.a)(["\n  color: red;\n"]);return Re=function(){return e},e}function Ue(){var e=Object(u.a)(["\n  margin-top: 0px;\n"]);return Ue=function(){return e},e}function Xe(){var e=Object(u.a)(["\n  padding: 5px 10px;\n  background: #e9e7da;\n  color: #636b46;\n  border: 1px solid #636b46;\n  border-radius: 3px;\n  margin-top: 10px;\n\n  &:hover {\n    color: #373f27;\n    cursor: pointer;\n  }\n"]);return Xe=function(){return e},e}function qe(){var e=Object(u.a)(["\n  color: #373f27;\n  margin-bottom: 5px;\n  padding: 5px;\n  border: 1px solid #cda34f;\n  border-radius: 3px;\n\n  &:focus {\n    outline: none;\n  }\n"]);return qe=function(){return e},e}var He=f.a.input(qe()),We=f.a.button(Xe()),Ye=f.a.h1(Ue()),Ge=f.a.div(Re());function Ke(){var e=Object(a.useContext)(d).setUser,t=Object(a.useContext)(j),n=t.isLoading,c=t.setIsLoading,i=Object(a.useState)(""),o=Object(s.a)(i,2),u=o[0],l=o[1],f=Object(a.useState)(""),p=Object(s.a)(f,2),O=p[0],m=p[1],h=Object(a.useState)(""),g=Object(s.a)(h,2),v=g[0],y=g[1],E=Object(a.useState)(),k=Object(s.a)(E,2),w=k[0],C=k[1],S=Object(b.f)();return Object(a.useEffect)((function(){return function(){c(!1)}}),[]),Object(r.jsxs)(r.Fragment,{children:[n&&Object(r.jsx)(U,{}),Object(r.jsx)(Ye,{children:"\u6703\u54e1\u8a3b\u518a"}),Object(r.jsxs)("form",{onSubmit:function(t){t.preventDefault(),n||(c(!0),C(""),function(e,t,n){return fetch("".concat(X,"/register"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:n,username:e,password:t})}).then((function(e){return e.json()}))}(u,O,v).then((function(t){if(1!==t.ok)return c(!1),C(t.message);x(t.token),q().then((function(t){if(1!==t.ok)return x(null),c(!1),C(t.message);e(t.data),c(!1),S.push("/")}))})))},children:[Object(r.jsxs)("div",{children:["\u5e33\u865f\uff1a",Object(r.jsx)("br",{}),Object(r.jsx)(He,{value:u,onChange:function(e){return l(e.target.value)}})]}),Object(r.jsxs)("div",{children:["\u5bc6\u78bc\uff1a",Object(r.jsx)("br",{}),Object(r.jsx)(He,{type:"password",value:O,onChange:function(e){return m(e.target.value)}})]}),Object(r.jsxs)("div",{children:["\u66b1\u7a31\uff1a",Object(r.jsx)("br",{}),Object(r.jsx)(He,{value:v,onChange:function(e){return y(e.target.value)}})]}),w&&Object(r.jsx)(Ge,{children:w}),Object(r.jsx)(We,{children:"\u9001\u51fa"})]})]})}function Qe(){var e=Object(u.a)(["\n  width: 600px;\n  margin: 0 auto;\n  background: #e9e7da;\n  padding: 20px;\n  border-radius: 10px;\n  box-shadow: 1px 1px 2px rgba(20%, 20%, 40%, 0.5);\n  margin-bottom: 40px;\n  color: #373f27;\n"]);return Qe=function(){return e},e}function Ve(){var e=Object(u.a)(["\n  margin-top: 72px;\n"]);return Ve=function(){return e},e}var Ze=f.a.div(Ve()),et=f.a.div(Qe());var tt=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(!1),o=Object(s.a)(i,2),u=o[0],f=o[1];return Object(a.useEffect)((function(){O()&&q().then((function(e){e.ok&&c(e.data)}))}),[]),Object(r.jsx)(d.Provider,{value:{user:n,setUser:c},children:Object(r.jsx)(j.Provider,{value:{isLoading:u,setIsLoading:f},children:Object(r.jsx)(Ze,{children:Object(r.jsx)(et,{children:Object(r.jsxs)(l.a,{children:[Object(r.jsx)(T,{}),Object(r.jsx)(b.c,{children:Object(r.jsx)(b.a,{exact:!0,path:"/",children:Object(r.jsx)(ae,{})})}),Object(r.jsx)(b.c,{children:Object(r.jsx)(b.a,{path:"/posts/:page",children:Object(r.jsx)(ae,{})})}),Object(r.jsx)(b.a,{exact:!0,path:"/login",children:Object(r.jsx)(de,{})}),Object(r.jsx)(b.a,{path:"/post/:id",children:Object(r.jsx)(Se,{})}),Object(r.jsx)(b.a,{exact:!0,path:"/addPost",children:Object(r.jsx)(De,{})}),Object(r.jsx)(b.a,{exact:!0,path:"/about",children:Object(r.jsx)(Be,{})}),Object(r.jsx)(b.a,{exact:!0,path:"/register",children:Object(r.jsx)(Ke,{})})]})})})})})};n(35);o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(tt,{})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.892200d8.chunk.js.map